@use '../core/tokens' as tokens;

body[data-view="week"]{
  .p-week{ display:grid; gap:.55rem; }
  .p-day{
    background:#fff; border-radius:14px; padding:.6rem .7rem;
    border:1px solid rgba(197,154,33,.25);
    box-shadow:0 0 18px rgba(199,154,41,.12);
    position:relative; cursor:pointer;
  }
  .p-day__head{
    display:grid; grid-template-columns:1fr auto 1fr; align-items:center;
    column-gap:.5rem; margin-bottom:.35rem; padding-inline:.6rem;
  }
  .p-day__name{ justify-self:start; text-align:right; margin:0; font-weight:700; }
  .p-day__date{ justify-self:end;   text-align:left;  margin:0; opacity:.9; color:#64748b; font-weight:800; }
  .p-day__count{
    position:absolute; inset-inline-start:50%; inset-block-start:50%;
    transform:translate(-50%, -50%); inline-size:26px; block-size:26px;
    border-radius:50%; display:grid; place-items:center;
    font:800 12px/1 'Rubik', system-ui, sans-serif;
    background:#fff; border:1px solid #e5e7eb; box-shadow:0 2px 6px rgba(0,0,0,.06);
  }
}
/* dark */
:is(html,body).is-dark body[data-view="week"] .p-day{
  background: var(--dm-surface)!important; color: var(--dm-text)!important;
  border:1px solid var(--dm-border)!important;
  box-shadow:0 10px 26px rgba(11,18,34,.55), inset 0 1px 0 rgba(255,255,255,.04)!important;
}
:is(html,body).is-dark body[data-view="week"] .p-day__count{
  background: rgba(13,23,44,.92); border-color: var(--dm-border);
}
/* highlight TODAY (light mode) */
body[data-view="week"] .p-day--today{
  border-color: tomato !important;
  box-shadow: 0 0 0 2px tomato, 0 10px 22px rgba(255,99,71,.18) !important;
}
body[data-view="week"] .p-day--today .p-day__name,
body[data-view="week"] .p-day--today .p-day__date{
  color: tomato !important;
}

/* dark mode: golden */
:is(html,body).is-dark body[data-view="week"] .p-day--today{
  border-color: #E7C267 !important; /* golden */
  box-shadow: 0 0 0 2px #E7C267, 0 10px 22px rgba(231,194,103,.22) !important;
}
:is(html,body).is-dark body[data-view="week"] .p-day--today .p-day__name,
:is(html,body).is-dark body[data-view="week"] .p-day--today .p-day__date{
  color: #E7C267 !important;
}

body[data-view="week"]{
  .p-week{ display:grid; gap:.55rem; margin-bottom:72px }

  .p-day{
    background:#fff; border-radius:14px; padding:.6rem .7rem;
    border:1px solid rgba(197,154,33,.25);
    box-shadow:0 0 18px rgba(199,154,41,.12);
    cursor:pointer; position:relative;
  }

  /* stacked row: Left (heb day) | Center (count) | Right (date) */
  .w-row{
    display:grid; grid-template-columns: 1fr auto 1fr;
    align-items:center; gap:.5rem; min-height:52px; padding:10px 14px; border-radius:14px;
  }
  .w-day{ justify-self:start; font-weight:700; }
  .w-count{
    justify-self:center; inline-size:46px; block-size:32px; border-radius:999px;
    display:grid; place-items:center; font-weight:800;
    background:rgba(29,78,216,.12); color:#1d4ed8; /* pleasant single blue hue */
  }
  .w-date{ justify-self:end; opacity:.9; color:#64748b; font-weight:800 }

  /* TODAY emphasis (light) */
  .p-day--today{ border-color:tomato !important; box-shadow:0 0 0 2px tomato, 0 10px 22px rgba(255,99,71,.18) !important }
  .p-day--today .w-day, .p-day--today .w-date{ color:tomato !important }
}

/* dark */
:is(html,body).is-dark body[data-view="week"]{
  .p-day{
    background:var(--dm-surface)!important; color:var(--dm-text)!important;
    border:1px solid var(--dm-border)!important; box-shadow:0 10px 26px rgba(11,18,34,.55), inset 0 1px 0 rgba(255,255,255,.04)!important;
  }
  .w-count{ background:rgba(96,165,250,.15); color:#60a5fa }
  .p-day--today{ border-color:#E7C267 !important; box-shadow:0 0 0 2px #E7C267, 0 10px 22px rgba(231,194,103,.22) !important }
  .p-day--today .w-day, .p-day--today .w-date{ color:#E7C267 !important }
}
