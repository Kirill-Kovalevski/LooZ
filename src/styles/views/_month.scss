@use '../core/tokens' as tokens;

body[data-view="month"]{
  .p-month{
    display:grid;
    grid-template-columns:repeat(7,1fr);
    gap:.5rem;
  }

  .p-cell{
    position:relative;
    aspect-ratio:1/1;
    border-radius:16px;
    cursor:pointer;
    background:#fff;
    border:2px solid var(--ring-color, #cbd5e1) !important;
    box-shadow:none;
    display:grid;
    place-items:center;
    padding:.35rem;
    overflow:visible;

    &:focus-visible{ outline:2px solid #2563eb; outline-offset:2px; }
  }

  .p-cell__num{
    font-weight:900;
    color:#0f172a;
    position:relative;
    z-index:1;
  }

  /* optional "today" look (add .p-cell--today in JS if you need it) */
  .p-cell--today .p-cell__num{
    color:tomato !important;
    animation:loozTomatoGlow 2.2s ease-in-out infinite;
  }
  @keyframes loozTomatoGlow{
    0%,100%{ text-shadow:0 0 6px rgba(255,99,71,.55), 0 0 14px rgba(255,99,71,.35) }
    50%   { text-shadow:0 0 10px rgba(255,99,71,.75), 0 0 22px rgba(255,99,71,.5) }
  }

  /* little counter badge above the cell */
  .p-count{
    position:absolute;
    top:-7px; left:50%; transform:translateX(-50%);
    min-width:18px; height:18px; padding:0 6px; border-radius:999px;
    display:grid; place-items:center;
    font:800 10px/18px 'Rubik',system-ui,sans-serif;
    color:var(--ring-color,#94a3b8) !important;
    background:#fff !important;
    border:1.5px solid var(--ring-color,#94a3b8) !important;
    box-shadow:0 1px 3px rgba(0,0,0,.08);
    z-index:5; pointer-events:none;
  }
}

/* dark mode for month */
:is(html,body).is-dark body[data-view="month"]{
  .p-cell{ background:#0f1b32; border-color:var(--ring-color,#2a4674)!important; }
  .p-cell__num{ color:#eaf2ff; }
  .p-count{
    background:rgba(13,23,44,.92)!important;
    color:var(--ring-color,#60a5fa)!important;
    border-color:var(--ring-color,#60a5fa)!important;
    box-shadow:0 1px 3px rgba(0,0,0,.28);
  }
}
/* TODAY in month (light) */
body[data-view="month"] .p-cell--today{
  border-color: tomato !important;
}
body[data-view="month"] .p-cell--today .p-cell__num{
  color: tomato !important;
}

/* dark: golden */
:is(html,body).is-dark body[data-view="month"] .p-cell--today{
  border-color: #E7C267 !important;
}
:is(html,body).is-dark body[data-view="month"] .p-cell--today .p-cell__num{
  color: #E7C267 !important;
}
